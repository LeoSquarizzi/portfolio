--- 
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Hero from '../components/Hero.astro';
import ProjectCard from '../components/ProjectCard.astro';
import ServiceCard from '../components/ServiceCard.astro';
import GameCard from '../components/GameCard.astro';
import Button from '../components/Button.astro';
import { getFeaturedProjects } from '../data/projects';

//Ref: https://proyecto26.com/

// Fetch featured projects with GitHub stats at build time
const projects = await getFeaturedProjects(6);

const services = [
  {
    title: 'Mobile Development',
    icon: 'smartphone',
    color: 'coral' as const,
    technologies: ['React Native', 'NativeScript', 'Ionic'],
  },
  {
    title: 'Web Components',
    icon: 'globe',
    color: 'teal' as const,
    technologies: ['Stencil', 'Web Animations API', 'TypeScript'],
  },
  {
    title: 'Game Development',
    icon: 'gamepad-2',
    color: 'orange' as const,
    technologies: ['Phaser', 'Unity', 'C#'],
  },
];

const games = [
  {
    title: 'NinjaDev',
    description: 'A side-scrolling platformer that showcases advanced game development techniques. Jump, run, and slash your way through challenging levels.',
    tags: ['Phaser', '2D Platformer', 'Action'],
    href: '/games/ninjadev',
    featured: true,
  },
  {
    title: 'The Crypto Purge',
    description: 'Action-packed crypto-themed game adventure.',
    tags: ['Phaser', 'Web3', 'WebSockets'],
    href: 'https://devpost.com/software/the-crypto-purge-jamg3s',
  },
  {
    title: 'PokéDex GO',
    description: 'Community of Pokemon masters, hybrid mobile app created to showcase real-time interactions with Firebase.',
    tags: ['Cordova/Ionic', 'Firebase'],
    href: 'https://github.com/proyecto26/PokeDex-GO',
  },
];

const supportLinks = [
  { name: 'Patreon', icon: 'heart', color: '#FF424D', href: 'https://patreon.com/proyecto26' },
  { name: 'Ko-fi', icon: 'coffee', color: '#f2385a', href: 'https://ko-fi.com/proyecto26' },
  { name: 'Open Collective', icon: 'users', color: '#7FADF2', href: 'https://opencollective.com/proyecto26' },
  { name: 'Liberapay', icon: 'dollar-sign', color: '#f6c915', href: 'https://liberapay.com/proyecto26' },
];
---

<BaseLayout title="Proyecto 26 - Changing the world with small contributions">
  <Header currentPage="home" />

  <main>
    <!-- Hero Section -->
    <Hero />

        <!-- Games Section -->
    <section id="projects" class="section bg-bg-primary">
      <div class="container">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-text-primary mb-4" data-animate="fade-up">
            Work & Projects
          </h2>
          <p class="text-lg text-text-secondary" data-animate="fade-up" data-delay="100">
            Click for more details
          </p>
        </div>

        <!-- Featured Game -->
        <div class="mb-12" data-animate="fade-up" data-delay="200">
          <p class="text-xs font-semibold text-accent-coral uppercase tracking-widest mb-4">Featured Game</p>
          <GameCard {...games[0]} />
        </div>

        <!-- More Games -->
        <div class="mb-4">
          <p class="text-xs font-semibold text-text-muted uppercase tracking-widest mb-4">More Games</p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {games.slice(1).map((game, index) => (
            <div data-animate="fade-up" data-delay={300 + index * 100}>
              <GameCard {...game} />
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="comments" class="section bg-bg-primary">
      <div class="container">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-text-primary mb-4" data-animate="fade-up">
            Open Source Tools Developers Love
          </h2>
          <p class="text-lg text-text-secondary max-w-2xl mx-auto" data-animate="fade-up" data-delay="100">
            Building the future of web, mobile, and game development
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
          {projects.map((project, index) => (
            <div data-animate="fade-up" data-delay={index * 100}>
              <ProjectCard {...project} />
            </div>
          ))}
        </div>

        <div class="text-center" data-animate="fade-up" data-delay="600">
          <Button href="https://github.com/proyecto26" variant="secondary" external>
            View All Projects
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </Button>
        </div>
      </div>
    </section>

    <!-- What We Build Section -->
    <!-- <section class="section bg-bg-secondary">
      <div class="container">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-text-primary mb-4" data-animate="fade-up">
            What We Build
          </h2>
          <p class="text-lg text-text-secondary" data-animate="fade-up" data-delay="100">
            Specialized tools and libraries across three core domains
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {services.map((service, index) => (
            <div data-animate="fade-up" data-delay={index * 100}>
              <ServiceCard {...service} description="" />
            </div>
          ))}
        </div>
      </div>
    </section> -->

    <!-- About / Founder Section -->
    <section id="about" class="section bg-bg-secondary">
      <!--<div class="container">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-text-primary mb-4" data-animate="fade-up">
            Meet the Founder
          </h2>
        </div> -->

        <div class="max-w-4xl mx-auto" data-animate="fade-up" data-delay="200">
          <div class="bg-bg-card border border-border-default rounded-3xl p-8 md:p-12">
            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
              <!-- Photo -->
              <div class="flex-shrink-0">
                <div class="w-48 h-48 rounded-full overflow-hidden ring-4 ring-accent-coral/30">
                  <img
                    src="/img/leosuarizzi.jpg"
                    alt="Juan David Nicholls"
                    class="w-full h-full object-cover"
                  />
                </div>
              </div>

              <!-- Info -->
              <div class="text-center md:text-left">
                <h3 class="text-3xl font-bold text-text-primary mb-2">
                  Leonaro 'Flaywint' Squarizzi
                </h3>
                <p class="text-accent-coral font-medium mb-4">
                  Game Designer & Indie Dev
                </p>
                <p class="text-text-secondary mb-6">
                  Hi! I have a degree in Digital Games and Postgraduate Course in Games and Gamification. I’ve been diving deep into the creative side of game development by crafting game mechanics, designing engaging loops, and creating narratives. I also love to create some indie projects!
                </p>

                <!-- Location -->
                <div class="flex items-center justify-center md:justify-start gap-2 text-text-muted mb-6">
                  <i data-lucide="map-pin" class="w-4 h-4"></i>
                  <span>Based in São Paulo, Brazil</span>
                </div>

                <!-- Social Links -->
                <div class="flex items-center justify-center md:justify-start gap-3">
                  <a
                    href="https://www.linkedin.com/in/leonardo-squarizzi"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="w-10 h-10 rounded-lg bg-bg-hover flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-tertiary transition-all duration-200"
                  >
                    <i data-lucide="linkedin" class="w-5 h-5"></i>
                  </a>
                  <a
                    href="https://github.com/LeoSquarizzi"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="w-10 h-10 rounded-lg bg-bg-hover flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-tertiary transition-all duration-200"
                  >
                    <i data-lucide="github" class="w-5 h-5"></i>
                  </a>
                                    <a
                    href="https://mail.google.com/mail/?view=cm&to=leosquarizzi@gmail.com&su=Awesome%20work&body=Hi%20Leo,%0A%0AI%20came%20across%20your%20portfolio%20and%20would%20love%20to%20talk%20about%20a%20potential%20collaboration.%0A%0ALet%E2%80%99s%20connect."
                    target="_blank"
                    rel="noopener noreferrer"
                    class="w-10 h-10 rounded-lg bg-bg-hover flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-tertiary transition-all duration-200"
                  >
                    <i data-lucide="mail" class="w-5 h-5"></i>
                  </a>
                  <!--<a
                    href="https://x.com/jdnichollsc"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="w-10 h-10 rounded-lg bg-bg-hover flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-tertiary transition-all duration-200"
                  >
                    <i data-lucide="twitter" class="w-5 h-5"></i>
                  </a>
                  <a
                    href="https://youtube.com/@proyecto26"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="w-10 h-10 rounded-lg bg-bg-hover flex items-center justify-center text-text-secondary hover:text-text-primary hover:bg-bg-tertiary transition-all duration-200"
                  >
                    <i data-lucide="youtube" class="w-5 h-5"></i>
                  </a>
                  -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

 
    <!-- Support Section -->
    <!--- <section id="contact" class="section bg-bg-primary">
      <div class="container">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-text-primary mb-4" data-animate="fade-up">
            Support Our Mission
          </h2>
          <p class="text-lg text-text-secondary" data-animate="fade-up" data-delay="100">
            Help us continue building open source tools for developers worldwide
          </p>
        </div>

        <!-- Donation Platforms --
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
          {supportLinks.map((link, index) => (
            <a
              href={link.href}
              target="_blank"
              rel="noopener noreferrer"
              class="group bg-bg-card border border-border-default rounded-2xl p-6 text-center transition-all duration-300 hover:border-border-accent hover:-translate-y-1"
              data-animate="fade-up"
              data-delay={index * 100}
            >
              <div
                class="w-12 h-12 mx-auto mb-4 rounded-xl flex items-center justify-center transition-transform duration-300 group-hover:scale-110"
                style={`background-color: ${link.color}20;`}
              >
                <i data-lucide={link.icon} class="w-6 h-6" style={`color: ${link.color};`}></i>
              </div>
              <h3 class="font-semibold text-text-primary mb-1">{link.name}</h3>
              <p class="text-xs text-text-muted">Support us</p>
            </a>
          ))}
        </div>

        <!-- GitHub CTA --
        <div class="bg-bg-card border-2 border-accent-coral rounded-3xl p-8 md:p-12 text-center" data-animate="fade-up" data-delay="400">
          <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-stars-gold/20 flex items-center justify-center">
            <i data-lucide="star" class="w-8 h-8 text-stars-gold"></i>
          </div>
          <h3 class="text-2xl font-bold text-text-primary mb-3">
            Star us on GitHub
          </h3>
          <p class="text-text-secondary mb-6">
            Support the project by starring our repositories
          </p>
          <Button href="https://github.com/proyecto26" variant="primary" external>
            <i data-lucide="star" class="w-4 h-4"></i>
            View Repositories
          </Button>
        </div>
      </div> 
   </section> --->
 
  </main>

  <Footer />
</BaseLayout>

<script>
  // Initialize animations when GSAP is loaded
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  // Fade up animation for elements with data-animate="fade-up"
  document.querySelectorAll('[data-animate="fade-up"]').forEach((el) => {
    const delay = parseInt(el.getAttribute('data-delay') || '0') / 1000;

    gsap.from(el, {
      scrollTrigger: {
        trigger: el,
        start: 'top 85%',
        toggleActions: 'play none none none',
      },
      y: 30,
      opacity: 0,
      duration: 0.6,
      delay,
      ease: 'power2.out',
    });
  });

</script>
